### redis
    * Redis是一个key-value存储系统，它支持丰富的数据类型，如：string、list、set、zset(sorted set)、hash
    * 特点
        * 内存作为数据存储介质，读写效率高
        * Redis的存储分为内存存储、磁盘存储和log文件三部分，重启后， Redis可以从磁盘重新将数据加载到内存中，这些可以通过配置文件对其进行配置（实现持久化的原理）
        * Redis支持主从模式，可以配置集群
    * 应用场景
        1. 主要用于缓存
    * redis是单线程还是多线程
        * 工作线程只有一个（网络I/O和键值对读写）
        * 6.X以上的版本出现了网络I/O多线程
        * 并发安全 -- 读写是单线程处理
    * 单线程为什么还快
        * 命令执行基于内存操作
        * 单线程操作，省去线程开销
        * 基于I/O多路复用机制
        * 高效的数据存储结构hash表
    * 跳表存储
        * 对链表进行索引，缩小查询范围
    * key过期内存没有释放
        * 操作数据时没有添加过期时间
        * 惰性删除：
        * 定时删除：
    * key被主动删除
        * maxmemory限定
    * LRU和LFU的区别
        * LRU 按访问时间删除
        * LFU 按访问频次删除  --- 针对热点缓存数据
    * redis主从 哨兵  集群 架构优缺点比较
        * 主从：主节点对外提供服务，从节点备份
        * 哨兵：在主从架构的基础上增加哨兵集群，监听主从节点，客户端先访问哨兵集群，获取主节点，再访问主节点，如果主节点挂掉，哨兵负责选举出新的主节点 无法满足高并发需求 存在瞬断问题
        * 高可用集群模式 redis cluster连接调度多个主从节点 （槽位定位算法 -- hash分片算法 16384）
    * 缓存雪崩（大量缓存同时失效缓存） -- 过期时间设置为随机时间
    * 缓存击穿 -- 缓存没有 数据库有   -- 加锁
    * 缓存穿透 -- 缓存数据库都没有 设置空缓存 并设置超时时间
    * 突发性热点缓存 -- 加锁
    * redis持久化
        * RDB快照：save 同步的  会产生阻塞 bgsave: 异步的   不会阻塞
        * AOF: 将修改写入文件  定期重写
        * 混合持久化 ROB + AOF
    * redis和mysql如何保持数据一直
        * 延时双删， 先删除redis的缓存数据 再更新mysql 延迟几百毫秒再次删除redis 




### 哈希存储结构
    * 全局哈希表
        * 一维数组 + 链表
        * hash(key) % 数组size  落在对应的数组值上